<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><link rel="preconnect" href="https://fonts.googleapis.com"><link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<title>MPG — Moyenne de points</title><style>
:root{--blue:#4054CC;--green:#45C945;--grad:linear-gradient(135deg,#4054CC 0%,#45C945 100%);
  --bg:#F4F6F8;--surface:#FFFFFF;--border:#D8DAE8;--text:#1A1F2E;--muted:#959DAF;
  --gold:#F5A623;--silver:#8A9BAD;--bronze:#C8845A;--red:#C0303A;}
*{box-sizing:border-box;margin:0;padding:0;}
body{background:var(--bg);color:var(--text);font-family:'Nunito','Avenir',sans-serif;}
html,body{height:100%;overflow:hidden;}
body{display:flex;flex-direction:column;}
.topbar{background:var(--surface);border-bottom:3px solid transparent;
  border-image:linear-gradient(to right,var(--blue),var(--green)) 1;
  padding:10px 20px;display:flex;align-items:center;gap:12px;flex-shrink:0;
  box-shadow:0 2px 8px rgba(0,0,0,.05);}
.title-wrap{display:flex;align-items:baseline;gap:8px;}
.topbar h1{font-size:.92rem;font-weight:900;color:var(--text);}
.topbar .sub{font-size:.7rem;color:var(--muted);}
.controls{display:flex;align-items:center;gap:10px;margin-left:auto;}
.btn{padding:6px 18px;border:none;border-radius:20px;cursor:pointer;font-size:.78rem;
  font-weight:800;font-family:'Nunito',sans-serif;transition:opacity .15s;}
.btn:hover{opacity:.85;}
.btn-play{background:var(--grad);color:#fff;}
.btn-reset{background:var(--bg);color:var(--muted);border:1px solid var(--border);}
.speed-wrap{display:flex;align-items:center;gap:6px;font-size:.72rem;color:var(--muted);}
input[type=range]{width:80px;accent-color:var(--blue);cursor:pointer;}
.progress{font-size:.72rem;color:var(--muted);font-weight:700;min-width:64px;text-align:right;}
.chart-wrap{flex:1;min-height:0;padding:12px 16px 6px;}
.chart-card{background:var(--surface);border:1px solid var(--border);border-radius:14px;
  box-shadow:0 2px 12px rgba(0,0,0,.05);height:100%;padding:6px;}
canvas{width:100%!important;height:100%!important;}
.legend{display:flex;flex-wrap:wrap;gap:6px;padding:6px 16px 12px;flex-shrink:0;}
.leg{display:flex;align-items:center;gap:5px;cursor:pointer;font-size:.72rem;font-weight:700;
  padding:4px 10px;border-radius:20px;background:var(--surface);border:1.5px solid var(--border);
  color:var(--text);transition:opacity .2s,border-color .2s;}
.leg:hover{border-color:var(--blue);}
.leg.hidden{opacity:.3;}
.leg-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0;}
</style></head><body>
<div class="topbar">
  <a href="index.html" style="font-size:12px;font-weight:700;color:#4054CC;text-decoration:none;white-space:nowrap;padding:4px 10px;border-radius:12px;background:#EEF1FF;border:1px solid #C5CBF5;flex-shrink:0;">← Accueil</a>
  <div class="title-wrap">
    <h1>Moyenne de points</h1><span class="sub">18 saisons hors COVID · Raph mène avec 46,4% de victoires all-time</span>
  </div>
  <div class="controls">
    <button class="btn btn-play" id="btnPlay">▶ Play</button>
    <button class="btn btn-reset" id="btnReset">↺</button>
    <div class="speed-wrap"><span>Vitesse</span>
      <input type="range" id="speed" min="1" max="10" value="5"></div>
    <span class="progress" id="progress">—</span>
  </div>
</div>
<div class="chart-wrap"><div class="chart-card"><canvas id="chart"></canvas></div></div>
<div class="legend" id="legend"></div>
<script>
const RAW={"labels":["S1.J1","S1.J2","S1.J3","S1.J4","S1.J5","S1.J6","S1.J7","S1.J8","S1.J9","S1.J10","S1.J11","S1.J12","S1.J13","S1.J14","S2.J1","S2.J2","S2.J3","S2.J4","S2.J5","S2.J6","S2.J7","S2.J8","S2.J9","S2.J10","S2.J11","S2.J12","S2.J13","S2.J14","S3.J1","S3.J2","S3.J3","S3.J4","S3.J5","S3.J6","S3.J7","S3.J8","S3.J9","S3.J10","S3.J11","S3.J12","S3.J13","S3.J14","S4.J1","S4.J2","S4.J3","S4.J4","S4.J5","S4.J6","S4.J7","S4.J8","S4.J9","S4.J10","S4.J11","S4.J12","S4.J13","S4.J14","S5.J1","S5.J2","S5.J3","S5.J4","S5.J5","S5.J6","S5.J7","S5.J8","S5.J9","S5.J10","S5.J11","S5.J12","S5.J13","S5.J14","S6.J1","S6.J2","S6.J3","S6.J4","S6.J5","S6.J6","S6.J7","S6.J8","S6.J9","S6.J10","S6.J11","S6.J12","S6.J13","S6.J14","S7.J1","S7.J2","S7.J3","S7.J4","S7.J5","S7.J6","S7.J7","S7.J8","S7.J9","S7.J10","S7.J11","S7.J12","S7.J13","S7.J14","S8.J1","S8.J2","S8.J3","S8.J4","S8.J5","S8.J6","S8.J7","S8.J8","S8.J9","S8.J10","S8.J11","S8.J12","S8.J13","S8.J14","S9.J1","S9.J2","S9.J3","S9.J4","S9.J5","S9.J6","S9.J7","S9.J8","S9.J9","S9.J10","S9.J11","S9.J12","S9.J13","S9.J14","S10.J1","S10.J2","S10.J3","S10.J4","S10.J5","S10.J6","S10.J7","S10.J8","S10.J9","S10.J10","S10.J11","S10.J12","S10.J13","S10.J14","S11.J1","S11.J2","S11.J3","S11.J4","S11.J5","S11.J6","S11.J7","S11.J8","S11.J9","S11.J10","S11.J11","S11.J12","S11.J13","S11.J14","S12.J1","S12.J2","S12.J3","S12.J4","S12.J5","S12.J6","S12.J7","S12.J8","S12.J9","S12.J10","S12.J11","S12.J12","S12.J13","S12.J14","S13.J1","S13.J2","S13.J3","S13.J4","S13.J5","S13.J6","S13.J7","S13.J8","S13.J9","S13.J10","S13.J11","S13.J12","S13.J13","S13.J14","S14.J1","S14.J2","S14.J3","S14.J4","S14.J5","S14.J6","S14.J7","S14.J8","S14.J9","S14.J10","S14.J11","S14.J12","S14.J13","S14.J14","S15.J1","S15.J2","S15.J3","S15.J4","S15.J5","S15.J6","S15.J7","S15.J8","S15.J9","S15.J10","S15.J11","S15.J12","S15.J13","S15.J14","S16.J1","S16.J2","S16.J3","S16.J4","S16.J5","S16.J6","S16.J7","S16.J8","S16.J9","S16.J10","S16.J11","S16.J12","S16.J13","S16.J14","S17.J1","S17.J2","S17.J3","S17.J4","S17.J5","S17.J6","S17.J7","S17.J8","S17.J9","S17.J10","S17.J11","S17.J12","S17.J13","S17.J14","S18.J1","S18.J2","S18.J3","S18.J4","S18.J5","S18.J6","S18.J7","S18.J8","S18.J9","S18.J10","S18.J11","S18.J12","S18.J13","S18.J14","S19.J1","S19.J2","S19.J3","S19.J4","S19.J5","S19.J6","S19.J7","S19.J8","S19.J9","S19.J10","S19.J11","S19.J12","S19.J13","S19.J14"],"players":[{"id":"raph","name":"Raph","color":"#C0303A","data":[0.0,0.0,1.0,0.75,0.8,0.6667,0.5714,0.625,0.5556,0.5,0.7273,0.6667,0.8462,0.7857,0.9333,0.875,1.0,1.0,1.1053,1.2,1.2857,1.2273,1.3043,1.25,1.2,1.1538,1.2222,1.2857,1.3448,1.3333,1.3226,1.2812,1.2727,1.2647,1.2286,1.1944,1.2432,1.2895,1.2564,1.25,1.2195,1.1905,1.186,1.2273,1.2667,1.2609,1.2979,1.3333,1.3061,1.34,1.3725,1.4038,1.3962,1.4259,1.4545,1.4464,1.4737,1.5,1.5254,1.5,1.4754,1.5,1.4762,1.4531,1.4769,1.4697,1.4925,1.4706,1.4493,1.4714,1.493,1.5139,1.5342,1.5135,1.4933,1.5132,1.5325,1.5128,1.4937,1.5125,1.4938,1.4878,1.4819,1.4762,1.4941,1.5116,1.4943,1.5114,1.5056,1.5222,1.5385,1.5326,1.5484,1.5426,1.5368,1.5208,1.5361,1.551,1.5657,1.55,1.5347,1.5294,1.5437,1.5385,1.5333,1.5283,1.514,1.5,1.5138,1.5273,1.5135,1.5,1.4867,1.4737,1.4609,1.4741,1.4872,1.5,1.5126,1.525,1.5207,1.5164,1.5041,1.5,1.488,1.4762,1.4646,1.4766,1.4884,1.4846,1.4962,1.4924,1.5038,1.4925,1.5037,1.5147,1.5255,1.5362,1.5252,1.5214,1.5106,1.5211,1.5105,1.5069,1.5172,1.5068,1.5034,1.5,1.5101,1.52,1.5099,1.5,1.5098,1.5195,1.529,1.5385,1.5478,1.557,1.566,1.575,1.5652,1.5556,1.5644,1.561,1.5697,1.5663,1.5749,1.5714,1.568,1.5765,1.5673,1.5581,1.5491,1.5402,1.5486,1.5398,1.5311,1.5393,1.5363,1.5444,1.5525,1.5604,1.5519,1.5598,1.5568,1.5645,1.5722,1.5798,1.5873,1.5947,1.6021,1.6094,1.6062,1.5979,1.5897,1.5969,1.5939,1.601,1.593,1.585,1.5821,1.5743,1.5813,1.5882,1.5805,1.5777,1.5845,1.5913,1.5981,1.5952,1.5877,1.5802,1.5728,1.5654,1.5721,1.5787,1.5853,1.5826,1.5753,1.5727,1.5792,1.5721,1.565,1.558,1.5511,1.5575,1.5639,1.557,1.5546,1.5478,1.5541,1.5603,1.5665,1.5598,1.566,1.572,1.5781,1.5714,1.5774,1.5833,1.5768,1.5702,1.5638,1.5697,1.5755,1.5691,1.5749,1.5685,1.5743,1.58,1.5737,1.5794,1.585,1.5787,1.5787,1.5787,1.5787,1.5787,1.5787,1.5787,1.5787,1.5787,1.5787,1.5787,1.5787,1.5787]},{"id":"nico","name":"Nico","color":"#2E6A99","data":[0.0,0.0,1.0,1.5,1.2,1.5,1.7143,1.875,2.0,1.8,1.6364,1.75,1.6154,1.7143,1.8,1.875,1.9412,2.0,1.8947,1.95,1.8571,1.8182,1.7826,1.7083,1.64,1.6923,1.6667,1.6071,1.6552,1.6,1.5484,1.5938,1.5455,1.5294,1.5714,1.6111,1.6486,1.6842,1.7179,1.75,1.7317,1.7143,1.7442,1.7273,1.6889,1.7174,1.6809,1.7083,1.7347,1.76,1.7843,1.75,1.7736,1.7963,1.7636,1.7857,1.7544,1.7414,1.7288,1.75,1.7705,1.7903,1.8095,1.8281,1.8,1.8182,1.791,1.7794,1.7681,1.7429,1.7183,1.6944,1.6712,1.6892,1.6667,1.6842,1.7013,1.6795,1.6962,1.7125,1.7037,1.7195,1.7349,1.7262,1.7412,1.7209,1.7011,1.6818,1.6966,1.7111,1.6923,1.7065,1.6882,1.7021,1.7158,1.7083,1.701,1.7143,1.7273,1.71,1.6931,1.6863,1.6699,1.6827,1.6952,1.7075,1.6916,1.6759,1.6606,1.6727,1.6667,1.6607,1.6549,1.6667,1.6522,1.6638,1.6581,1.6441,1.6555,1.6417,1.6364,1.6475,1.6423,1.629,1.616,1.6032,1.6142,1.6094,1.5969,1.6077,1.6183,1.6288,1.6165,1.6045,1.6148,1.6029,1.5985,1.5942,1.5899,1.5857,1.5957,1.6056,1.6154,1.6042,1.6138,1.6027,1.6122,1.6081,1.604,1.5933,1.5828,1.5724,1.5817,1.5779,1.5871,1.5769,1.5669,1.557,1.5472,1.5562,1.5528,1.5617,1.5583,1.5488,1.5394,1.5361,1.5329,1.5298,1.5266,1.5176,1.5088,1.5058,1.5145,1.5057,1.5029,1.5114,1.5028,1.5112,1.5028,1.4944,1.5028,1.4945,1.5027,1.4946,1.5027,1.4946,1.492,1.5,1.5079,1.5158,1.5079,1.5,1.5078,1.5155,1.5231,1.5153,1.5228,1.5152,1.5075,1.505,1.4975,1.505,1.4975,1.4951,1.5024,1.5097,1.5169,1.524,1.5167,1.5143,1.5213,1.5283,1.5352,1.5421,1.5349,1.5417,1.5484,1.5459,1.5525,1.55,1.543,1.5495,1.5561,1.5536,1.56,1.5531,1.5463,1.5439,1.5371,1.5304,1.5238,1.5302,1.5236,1.5299,1.5234,1.5297,1.5232,1.5294,1.523,1.5167,1.5104,1.5165,1.5226,1.5287,1.5347,1.5407,1.5466,1.5524,1.5462,1.54,1.5458,1.5397,1.5336,1.5315,1.5315,1.5315,1.5315,1.5315,1.5315,1.5315,1.5315,1.5315,1.5315,1.5315,1.5315,1.5315]},{"id":"francois","name":"François","color":"#1E5C3A","data":[3.0,3.0,2.0,1.5,1.8,1.5,1.7143,1.875,2.0,1.8,1.9091,1.75,1.8462,1.9286,1.8667,1.9375,1.8235,1.8889,1.9474,1.85,1.9048,1.9545,1.913,1.9583,2.0,2.0385,2.0,2.0357,1.9655,1.9333,1.871,1.8125,1.8485,1.8235,1.8571,1.8889,1.8649,1.8421,1.7949,1.825,1.8049,1.7857,1.7442,1.7045,1.6667,1.6304,1.617,1.6458,1.6735,1.64,1.6275,1.6538,1.6226,1.6481,1.6182,1.6071,1.5789,1.6034,1.5763,1.5667,1.5902,1.5645,1.5397,1.5156,1.5385,1.5303,1.5075,1.5294,1.5217,1.5429,1.5352,1.5278,1.5479,1.5676,1.5867,1.6053,1.6234,1.641,1.6329,1.6125,1.6296,1.6098,1.6265,1.6429,1.6235,1.6163,1.6322,1.6136,1.6292,1.6111,1.6264,1.6413,1.6559,1.6489,1.6421,1.625,1.6392,1.6224,1.6061,1.6,1.5941,1.5882,1.6019,1.6154,1.6,1.5943,1.5888,1.6019,1.6147,1.6,1.5856,1.5714,1.5575,1.5439,1.5565,1.5431,1.5385,1.5339,1.5462,1.5417,1.5289,1.5246,1.5203,1.5081,1.496,1.4841,1.4961,1.5078,1.5194,1.5308,1.5191,1.5152,1.5038,1.5149,1.5111,1.5221,1.5328,1.529,1.5396,1.55,1.539,1.5493,1.5385,1.5486,1.5379,1.5274,1.5374,1.5473,1.5369,1.5467,1.5364,1.5461,1.5556,1.5649,1.5548,1.5641,1.5541,1.5633,1.5723,1.5625,1.5714,1.5617,1.5583,1.5488,1.5576,1.5663,1.5569,1.5536,1.5621,1.5706,1.5614,1.5698,1.578,1.5747,1.5829,1.5795,1.5876,1.5787,1.5754,1.5722,1.5801,1.5879,1.5956,1.587,1.5838,1.5914,1.5882,1.5957,1.6032,1.6105,1.6021,1.5938,1.5855,1.5773,1.5846,1.5765,1.5685,1.5758,1.5829,1.58,1.5771,1.5693,1.5764,1.5735,1.5805,1.5777,1.57,1.5625,1.5694,1.5619,1.5592,1.566,1.5634,1.5561,1.5488,1.5417,1.5346,1.5413,1.5479,1.5545,1.552,1.545,1.5381,1.5446,1.5378,1.531,1.5242,1.5307,1.5371,1.5348,1.5281,1.5345,1.5408,1.547,1.5447,1.5381,1.5316,1.5378,1.5314,1.5375,1.5353,1.5413,1.535,1.541,1.5347,1.5325,1.5263,1.5323,1.5261,1.52,1.5139,1.5079,1.502,1.5079,1.5079,1.5079,1.5079,1.5079,1.5079,1.5079,1.5079,1.5079,1.5079,1.5079,1.5079,1.5079]},{"id":"damien","name":"Damien","color":"#C08A00","data":[3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,2.6667,2.7,2.4545,2.25,2.0769,2.1429,2.0667,2.125,2.0,2.0556,1.9474,1.9,1.9524,1.8636,1.8261,1.875,1.92,1.9615,2.0,2.0357,2.0,2.0333,2.0645,2.0938,2.0303,2.0,1.9429,1.9722,1.9189,1.8947,1.8462,1.875,1.9024,1.8571,1.814,1.8409,1.8,1.7826,1.8085,1.8333,1.7959,1.78,1.7647,1.7885,1.7736,1.7407,1.7636,1.7321,1.7193,1.6897,1.7119,1.7333,1.7541,1.7742,1.746,1.7344,1.7077,1.6818,1.6567,1.6471,1.6667,1.6857,1.7042,1.6944,1.7123,1.7297,1.7067,1.6974,1.6753,1.6923,1.6835,1.675,1.6914,1.7073,1.6988,1.6905,1.6706,1.6512,1.6437,1.6591,1.6404,1.6556,1.6374,1.6522,1.6344,1.6489,1.6316,1.6458,1.6598,1.6429,1.6263,1.64,1.6337,1.6176,1.6117,1.5962,1.581,1.5755,1.5888,1.5741,1.5596,1.5727,1.5856,1.5804,1.5929,1.5877,1.6,1.6121,1.6068,1.6017,1.5882,1.5833,1.5702,1.582,1.5691,1.5806,1.576,1.5873,1.5748,1.5625,1.5736,1.5846,1.5725,1.5606,1.5714,1.5672,1.5556,1.5441,1.5547,1.5435,1.5396,1.5286,1.539,1.5282,1.5385,1.5278,1.5379,1.5274,1.5238,1.5338,1.5302,1.52,1.5298,1.5197,1.5098,1.5065,1.4968,1.5064,1.5159,1.5063,1.5031,1.5125,1.5217,1.5309,1.5276,1.5366,1.5273,1.5181,1.509,1.506,1.5148,1.5059,1.5146,1.5233,1.5145,1.523,1.5314,1.5284,1.5254,1.5169,1.5251,1.5222,1.5138,1.522,1.5137,1.5217,1.5135,1.5054,1.4973,1.4894,1.4815,1.4789,1.4869,1.4948,1.5026,1.5103,1.5026,1.5102,1.5178,1.5101,1.5025,1.495,1.5025,1.495,1.4926,1.4902,1.4976,1.5049,1.4976,1.4904,1.4976,1.4905,1.4834,1.4906,1.4883,1.4813,1.4744,1.4722,1.4793,1.4771,1.484,1.4773,1.4751,1.482,1.4753,1.4821,1.4889,1.4956,1.5022,1.4956,1.4891,1.4957,1.4892,1.4828,1.4893,1.4957,1.4936,1.4915,1.4979,1.5042,1.5105,1.5042,1.5104,1.5041,1.4979,1.5041,1.5102,1.5081,1.502,1.496,1.49,1.484,1.4781,1.4841,1.4901,1.4961,1.4961,1.4961,1.4961,1.4961,1.4961,1.4961,1.4961,1.4961,1.4961,1.4961,1.4961,1.4961]},{"id":"greg","name":"Greg","color":"#D4643A","data":[3.0,2.0,2.3333,1.75,2.0,2.1667,1.8571,1.75,1.8889,2.0,2.0909,2.1667,2.0,1.8571,1.7333,1.625,1.7059,1.6111,1.6842,1.65,1.7143,1.7727,1.7391,1.7917,1.72,1.7692,1.7037,1.75,1.7241,1.7,1.6452,1.6875,1.7273,1.7647,1.8,1.75,1.7297,1.6842,1.6667,1.625,1.6585,1.6905,1.7209,1.75,1.7778,1.7391,1.7021,1.6667,1.6939,1.66,1.6275,1.5962,1.6226,1.5926,1.6182,1.6429,1.6316,1.6207,1.6102,1.6,1.5738,1.5484,1.5238,1.5469,1.5692,1.5909,1.6119,1.6029,1.6232,1.6429,1.6338,1.6528,1.6301,1.6216,1.64,1.6184,1.5974,1.5897,1.5696,1.55,1.5309,1.5122,1.494,1.4762,1.4941,1.5116,1.5287,1.5114,1.5056,1.4889,1.5055,1.4891,1.5054,1.5213,1.5053,1.5208,1.5155,1.5,1.5152,1.53,1.5446,1.5294,1.5437,1.5577,1.5714,1.566,1.5794,1.5926,1.5872,1.5727,1.5856,1.5982,1.5929,1.6053,1.5913,1.6034,1.5897,1.5847,1.5798,1.5917,1.6033,1.5902,1.6016,1.5968,1.608,1.5952,1.5827,1.5781,1.5659,1.5538,1.542,1.5303,1.5414,1.5299,1.5185,1.5074,1.4964,1.4855,1.4964,1.4857,1.4752,1.4648,1.4615,1.4514,1.4621,1.4726,1.4626,1.4527,1.4631,1.4733,1.4834,1.4737,1.4641,1.461,1.471,1.4615,1.4522,1.443,1.4528,1.4438,1.441,1.4321,1.4294,1.4207,1.4182,1.4096,1.4012,1.3988,1.4083,1.4176,1.4094,1.407,1.3988,1.408,1.4,1.392,1.3898,1.3989,1.4078,1.4167,1.4088,1.4011,1.4098,1.4022,1.3946,1.3871,1.385,1.3777,1.3704,1.3632,1.356,1.3646,1.3731,1.3814,1.3897,1.3827,1.3756,1.3838,1.392,1.4,1.398,1.4059,1.399,1.3971,1.3902,1.3981,1.4058,1.399,1.4067,1.4143,1.4218,1.4151,1.4225,1.4299,1.4372,1.4306,1.424,1.422,1.4155,1.4091,1.4072,1.4144,1.4081,1.4062,1.4133,1.4115,1.4053,1.4035,1.4017,1.4,1.4069,1.4009,1.3948,1.3889,1.3957,1.3898,1.3966,1.4034,1.3975,1.3917,1.39,1.3967,1.3909,1.3852,1.3837,1.3821,1.3887,1.3831,1.3896,1.396,1.4024,1.4087,1.415,1.4094,1.4094,1.4094,1.4094,1.4094,1.4094,1.4094,1.4094,1.4094,1.4094,1.4094,1.4094,1.4094]},{"id":"marc","name":"Marc","color":"#1A3D50","data":[0.0,0.5,0.3333,1.0,1.0,1.3333,1.1429,1.0,0.8889,1.1,1.0,1.1667,1.0769,1.0,1.1333,1.0625,1.0,0.9444,1.0526,1.0,0.9524,0.9091,0.913,0.9167,0.88,0.8462,0.8148,0.7857,0.8621,0.8667,0.9355,1.0,1.0606,1.1176,1.0857,1.1389,1.1081,1.1579,1.2051,1.175,1.1463,1.1429,1.186,1.1591,1.1333,1.1739,1.1489,1.125,1.102,1.1,1.1373,1.1154,1.1509,1.1481,1.1273,1.1071,1.1053,1.0862,1.0847,1.0833,1.0656,1.0968,1.127,1.125,1.1077,1.0909,1.0746,1.0735,1.0725,1.0571,1.0563,1.0833,1.0685,1.0541,1.04,1.0263,1.013,1.0128,1.0127,1.0125,1.0123,1.0366,1.0361,1.0238,1.0471,1.0698,1.092,1.1136,1.1124,1.1,1.0879,1.0761,1.0968,1.0851,1.0842,1.1042,1.0928,1.1122,1.101,1.12,1.1188,1.1373,1.1262,1.125,1.1429,1.1321,1.1495,1.1389,1.156,1.1727,1.1892,1.1786,1.1681,1.1579,1.1739,1.1638,1.1795,1.1695,1.1597,1.15,1.1405,1.1311,1.1463,1.1613,1.176,1.1905,1.2047,1.2031,1.1938,1.1846,1.1985,1.197,1.188,1.1866,1.2,1.1912,1.1898,1.1812,1.1727,1.1857,1.1773,1.169,1.1678,1.1806,1.1724,1.1849,1.1837,1.1959,1.1879,1.18,1.1921,1.2039,1.1961,1.1883,1.2,1.1923,1.1847,1.1962,1.1887,1.2,1.1925,1.2037,1.2147,1.2134,1.2242,1.2349,1.2455,1.244,1.2367,1.2471,1.2573,1.25,1.2428,1.2529,1.2457,1.2443,1.2542,1.2472,1.2402,1.25,1.2597,1.2527,1.2459,1.2554,1.2541,1.2634,1.262,1.2713,1.2646,1.2579,1.267,1.2604,1.2539,1.2474,1.241,1.2347,1.2335,1.2273,1.2211,1.23,1.2388,1.2475,1.2463,1.2402,1.2341,1.2282,1.2222,1.2163,1.2105,1.219,1.218,1.217,1.2113,1.2056,1.214,1.2083,1.2074,1.2018,1.1963,1.2045,1.2127,1.2072,1.2152,1.2232,1.2311,1.2257,1.2203,1.2149,1.2227,1.2304,1.2251,1.2198,1.2146,1.2222,1.217,1.2161,1.2236,1.2185,1.2259,1.2333,1.2407,1.2355,1.2428,1.2377,1.2327,1.2317,1.2389,1.246,1.241,1.248,1.255,1.2619,1.2609,1.2677,1.2677,1.2677,1.2677,1.2677,1.2677,1.2677,1.2677,1.2677,1.2677,1.2677,1.2677,1.2677]},{"id":"pierre","name":"Pierre","color":"#2A8FA0","data":[3.0,1.5,1.0,0.75,0.6,0.5,0.8571,0.75,0.6667,0.9,0.8182,0.75,0.9231,1.0714,1.0,1.125,1.0588,1.0,0.9474,0.9,0.8571,0.9545,0.913,0.875,0.96,0.9231,1.0,0.9643,0.931,1.0,1.0645,1.0312,1.0303,1.0,0.9714,0.9444,0.9189,0.8947,0.9487,0.95,0.9268,0.9286,0.907,0.8864,0.9333,0.913,0.9149,0.8958,0.8776,0.92,0.902,0.9423,0.9245,0.9074,0.8909,0.875,0.8772,0.8793,0.8814,0.8833,0.8689,0.8548,0.8889,0.875,0.9077,0.8939,0.9254,0.9118,0.8986,0.8857,0.8732,0.8611,0.8904,0.8784,0.9067,0.8947,0.9221,0.9487,0.9747,0.9625,0.9506,0.939,0.9277,0.9524,0.9412,0.9302,0.931,0.9545,0.9438,0.9667,0.956,0.9565,0.9462,0.9362,0.9579,0.9583,0.9485,0.9694,0.9596,0.95,0.9703,0.9706,0.9709,0.9615,0.9619,0.9811,0.972,0.9907,0.9817,0.9727,0.964,0.9821,1.0,1.0,1.0174,1.0086,1.0085,1.0254,1.0252,1.0417,1.0579,1.0492,1.065,1.0806,1.096,1.1111,1.126,1.125,1.1395,1.1308,1.145,1.1439,1.1353,1.1493,1.1407,1.1544,1.146,1.1594,1.1727,1.1714,1.1844,1.1972,1.2098,1.2083,1.2,1.2123,1.2109,1.2027,1.2148,1.2067,1.2185,1.2303,1.2222,1.2208,1.2129,1.2244,1.2357,1.2278,1.2264,1.2188,1.2298,1.2407,1.2331,1.2439,1.2364,1.247,1.2455,1.256,1.2485,1.2412,1.2515,1.2616,1.2717,1.2644,1.2629,1.2614,1.2712,1.2809,1.2737,1.2667,1.2597,1.2692,1.2623,1.2554,1.2649,1.2742,1.2727,1.266,1.2593,1.2526,1.2618,1.2552,1.2487,1.2577,1.2667,1.2755,1.2843,1.2778,1.2864,1.28,1.2736,1.2822,1.2906,1.2892,1.2829,1.2767,1.285,1.2933,1.2871,1.2952,1.2891,1.2877,1.2817,1.2897,1.2977,1.3056,1.2995,1.2936,1.3014,1.3,1.2941,1.3018,1.3094,1.3036,1.2978,1.3053,1.3128,1.3202,1.3188,1.313,1.3203,1.3276,1.3219,1.3162,1.3106,1.3051,1.2996,1.2941,1.2887,1.2833,1.278,1.2727,1.2798,1.2746,1.2735,1.2805,1.2753,1.2702,1.2771,1.284,1.2789,1.2738,1.2688,1.2638,1.2638,1.2638,1.2638,1.2638,1.2638,1.2638,1.2638,1.2638,1.2638,1.2638,1.2638,1.2638]},{"id":"manu","name":"Manu","color":"#7A1A1E","data":[0.0,1.5,1.0,1.5,1.2,1.0,0.8571,0.75,1.0,0.9,1.0909,1.25,1.3846,1.2857,1.2,1.125,1.2353,1.2222,1.1579,1.25,1.1905,1.1818,1.1739,1.1667,1.24,1.1923,1.1481,1.1071,1.069,1.0333,1.0323,1.0,0.9697,0.9412,1.0,0.9722,1.027,1.0,1.0,0.975,1.0244,1.0714,1.0698,1.0682,1.1111,1.1522,1.1915,1.1667,1.2041,1.18,1.1569,1.1346,1.1132,1.1111,1.1455,1.1786,1.2105,1.2069,1.1864,1.1667,1.1967,1.1774,1.2063,1.2344,1.2154,1.2424,1.2687,1.2941,1.2899,1.2714,1.2676,1.25,1.2329,1.2297,1.2533,1.25,1.2338,1.2179,1.2152,1.2375,1.2593,1.2561,1.253,1.25,1.2353,1.2326,1.2184,1.2045,1.2022,1.1889,1.2088,1.1957,1.1828,1.1702,1.1684,1.1562,1.1443,1.1327,1.1515,1.15,1.1485,1.1667,1.1553,1.1442,1.1333,1.1226,1.1215,1.1389,1.1376,1.1273,1.1261,1.1429,1.1593,1.1754,1.1652,1.1552,1.1453,1.1441,1.1345,1.125,1.1405,1.1557,1.1463,1.1371,1.136,1.1508,1.1417,1.1328,1.124,1.1231,1.1145,1.1288,1.1429,1.1567,1.1556,1.1691,1.1606,1.1739,1.1655,1.1643,1.1773,1.169,1.1608,1.1736,1.1655,1.1781,1.1701,1.1622,1.1544,1.1667,1.1589,1.1711,1.183,1.1753,1.1677,1.1603,1.172,1.1835,1.1761,1.1687,1.1615,1.1543,1.1472,1.1585,1.1576,1.1506,1.1617,1.1548,1.1479,1.1412,1.152,1.1453,1.1561,1.1552,1.1486,1.1591,1.1525,1.1461,1.1564,1.15,1.1436,1.1374,1.1475,1.1576,1.1568,1.1505,1.1497,1.1436,1.1534,1.1526,1.1466,1.1562,1.1554,1.1495,1.1436,1.1531,1.1472,1.1566,1.1658,1.175,1.1741,1.1683,1.1626,1.1618,1.1707,1.165,1.1594,1.1683,1.1627,1.1571,1.1659,1.1604,1.169,1.1776,1.1721,1.1713,1.1705,1.1789,1.1735,1.1727,1.1719,1.1667,1.1749,1.1696,1.1644,1.1637,1.1718,1.1798,1.179,1.187,1.1948,1.1897,1.1974,1.1923,1.2,1.2076,1.2025,1.1975,1.205,1.2125,1.2199,1.2273,1.2346,1.2295,1.2245,1.2195,1.2146,1.2218,1.2289,1.224,1.2311,1.2262,1.2253,1.2244,1.2244,1.2244,1.2244,1.2244,1.2244,1.2244,1.2244,1.2244,1.2244,1.2244,1.2244,1.2244]}],"seasons":[{"snum":1,"year":2016,"start":0,"end":13},{"snum":2,"year":2016,"start":14,"end":27},{"snum":3,"year":2017,"start":28,"end":41},{"snum":4,"year":2017,"start":42,"end":55},{"snum":5,"year":2018,"start":56,"end":69},{"snum":6,"year":2018,"start":70,"end":83},{"snum":7,"year":2019,"start":84,"end":97},{"snum":8,"year":2020,"start":98,"end":111},{"snum":9,"year":2020,"start":112,"end":125},{"snum":10,"year":2021,"start":126,"end":139},{"snum":11,"year":2021,"start":140,"end":153},{"snum":12,"year":2022,"start":154,"end":167},{"snum":13,"year":2022,"start":168,"end":181},{"snum":14,"year":2023,"start":182,"end":195},{"snum":15,"year":2023,"start":196,"end":209},{"snum":16,"year":2024,"start":210,"end":223},{"snum":17,"year":2024,"start":224,"end":237},{"snum":18,"year":2025,"start":238,"end":251},{"snum":19,"year":2025,"start":252,"end":265}]};
const N=RAW.labels.length,DATA_WIN=5*14,EMPTY_WIN=2*14;
let frame=0,timer=null,hidden={},winStart=0;
const datasets=RAW.players.map(p=>({label:p.name,data:[],borderColor:p.color,
  backgroundColor:p.color+'18',borderWidth:2.5,pointRadius:0,tension:0.35,fill:false,spanGaps:false}));
const seasonAxis={id:'seasonAxis',afterDraw(ch){
  const {ctx,chartArea:ca,scales:sc}=ch;
  if(!sc.x||!ch.data.labels.length)return;
  const lbls=ch.data.labels,dLen=Math.min(DATA_WIN,lbls.length);
  if(lbls.length>dLen){
    const x0=sc.x.getPixelForValue(dLen-1)+(sc.x.getPixelForValue(dLen)-sc.x.getPixelForValue(dLen-1))/2;
    ctx.save();ctx.fillStyle='rgba(64,84,204,.04)';
    ctx.fillRect(x0,ca.top,ca.right-x0,ca.bottom-ca.top);
    ctx.setLineDash([4,4]);ctx.strokeStyle='#C8CEEE';ctx.lineWidth=1;
    ctx.beginPath();ctx.moveTo(x0,ca.top);ctx.lineTo(x0,ca.bottom);ctx.stroke();ctx.restore();
  }
  const BAR=38,bTop=ca.bottom+4;
  const vis=[];
  RAW.seasons.forEach(s=>{
    const ls=s.start-winStart,le=s.end-winStart;
    if(le<0||ls>=lbls.length)return;
    vis.push({...s,ls:Math.max(0,ls),le:Math.min(lbls.length-1,le)});
  });
  ctx.save();ctx.beginPath();ctx.rect(ca.left,bTop,ca.right-ca.left,BAR);ctx.clip();
  vis.forEach((s,i)=>{
    const xL=sc.x.getPixelForValue(s.ls);
    const xR=sc.x.getPixelForValue(s.le)+(s.le<lbls.length-1?(sc.x.getPixelForValue(s.le+1)-sc.x.getPixelForValue(s.le))/2:0);
    const w=xR-xL,cx=xL+w/2,isEmpty=s.ls>=dLen;
    ctx.fillStyle=s.snum%2===0?'rgba(64,84,204,.04)':'rgba(0,0,0,0)';
    ctx.fillRect(xL,bTop,w,BAR);
    ctx.strokeStyle='#D8DAE8';ctx.lineWidth=1;ctx.setLineDash([]);
    ctx.beginPath();ctx.moveTo(xL,bTop);ctx.lineTo(xL,bTop+BAR);ctx.stroke();
    if(w>18){
      ctx.fillStyle=isEmpty?'#C8CEE8':'#4054CC';
      ctx.font='bold 11px Nunito,sans-serif';
      ctx.textAlign='center';ctx.textBaseline='middle';
      ctx.fillText('S'+s.snum,cx,bTop+12);
    }
    const pv=i>0?vis[i-1].year:null;
    if(w>28&&(s.year!==pv||i===0)){
      ctx.fillStyle=isEmpty?'#C8CEE8':'#959DAF';
      ctx.font='10px Nunito,sans-serif';
      ctx.fillText(s.year,cx,bTop+27);
    }
  });
  ctx.setLineDash([]);ctx.strokeStyle='#D8DAE8';ctx.lineWidth=1;
  ctx.beginPath();ctx.moveTo(ca.left,bTop);ctx.lineTo(ca.right,bTop);ctx.stroke();
  ctx.restore();
}};
const refLine={id:'refLine',afterDraw(ch){
  const {ctx,chartArea:ca,scales:sc}=ch;if(!sc.y)return;
  const y=sc.y.getPixelForValue(1.5);
  ctx.save();ctx.setLineDash([5,4]);ctx.strokeStyle='#C8CEE8';ctx.lineWidth=1.5;
  ctx.beginPath();ctx.moveTo(ca.left,y);ctx.lineTo(ca.right,y);ctx.stroke();ctx.restore();
}};
const chart=new Chart(document.getElementById('chart'),{
  type:'line',data:{labels:[],datasets},plugins:[seasonAxis,refLine],
  options:{responsive:true,maintainAspectRatio:false,animation:false,
    layout:{padding:{bottom:48}},
    plugins:{legend:{display:false},
      tooltip:{mode:'index',intersect:false,
        backgroundColor:'#fff',borderColor:'#D8DAE8',borderWidth:1,
        titleColor:'#959DAF',bodyColor:'#1A1F2E',
        bodyFont:{family:'Nunito'},titleFont:{family:'Nunito',weight:'bold'},
        filter:i=>i.parsed.y!==null,
        callbacks:{
          title:items=>chart.data.labels[items[0].dataIndex]??'',
          label:c=>c.parsed.y==null?null:` ${c.dataset.label}: ${c.parsed.y.toFixed(3)}`,
        }
      }
    },
    scales:{
      x:{ticks:{display:false},grid:{display:false},border:{display:false}},
      y:{min:1.0,max:2.0,
        ticks:{color:'#959DAF',font:{family:'Nunito',size:11}},
        grid:{color:'#EEF0F8'},border:{dash:[4,4]},
        title:{display:true,text:'pts / match',color:'#959DAF',font:{family:'Nunito',size:11}},
      }
    }
  }
});
document.getElementById('legend').innerHTML=RAW.players.map((p,i)=>
  `<div class="leg" data-i="${i}"><div class="leg-dot" style="background:${p.color}"></div>${p.name}</div>`
).join('');
document.querySelectorAll('.leg').forEach(el=>{
  el.addEventListener('click',()=>{
    const i=+el.dataset.i;hidden[i]=!hidden[i];
    chart.data.datasets[i].hidden=hidden[i];
    el.classList.toggle('hidden',hidden[i]);chart.update('none');
  });
});
function yRange(s,e){
  let mn=Infinity,mx=-Infinity;
  for(let i=s;i<e;i++)RAW.players.forEach((p,pi)=>{
    if(hidden[pi])return;const v=p.data[i];
    if(v!=null){mn=Math.min(mn,v);mx=Math.max(mx,v);}
  });
  if(!isFinite(mn))return[1.0,2.0];
  const pad=Math.max((mx-mn)*.18,.05);
  return[Math.max(0,Math.floor((mn-pad)*20)/20),Math.min(9999,Math.ceil((mx+pad)*20)/20)];
}
function delay(){return Math.round(800/parseInt(document.getElementById('speed').value));}
function step(){
  if(frame>=N){stop();return;}
  const ds=Math.max(0,frame-DATA_WIN+1),de=frame+1,ee=Math.min(N,frame+EMPTY_WIN+1);
  winStart=ds;chart.data.labels=RAW.labels.slice(ds,ee);
  const dLen=de-ds;
  RAW.players.forEach((p,i)=>{
    chart.data.datasets[i].data=[...p.data.slice(ds,de),...Array(chart.data.labels.length-dLen).fill(null)];
  });
  const[mn,mx]=yRange(ds,de);
  chart.options.scales.y.min=mn;chart.options.scales.y.max=mx;
  chart.update('none');
  document.getElementById('progress').textContent=RAW.labels[frame];
  frame++;timer=setTimeout(step,delay());
}
function stop(){clearTimeout(timer);timer=null;
  document.getElementById('btnPlay').textContent=frame>=N?'✓ Fin':'▶ Play';}
document.getElementById('btnPlay').addEventListener('click',()=>{
  if(timer){stop();return;}if(frame>=N)return;
  document.getElementById('btnPlay').textContent='⏸ Pause';step();
});
document.getElementById('btnReset').addEventListener('click',()=>{
  stop();frame=0;winStart=0;chart.data.labels=[];
  chart.data.datasets.forEach(d=>d.data=[]);
  chart.options.scales.y.min=1.0;chart.options.scales.y.max=2.0;
  chart.update('none');document.getElementById('progress').textContent='—';
  document.getElementById('btnPlay').textContent='▶ Play';
});
</script>
</body></html>